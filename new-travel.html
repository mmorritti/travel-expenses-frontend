<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <title>Nuovo Viaggio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://npmcdn.com/flatpickr/dist/themes/airbnb.css">
    
    <link rel="stylesheet" href="/src/style.css?v=2" />
  </head>
  <body class="bg-gray-50 min-h-screen flex flex-col antialiased">

    <div class="sticky top-0 z-50 bg-sky-400 shadow-md">
      <header class="flex items-center px-5 py-4 relative">
        <button id="back-btn" class="text-white text-2xl mr-4 focus:outline-none hover:opacity-80 transition-opacity">
          ‚Üê
        </button>
        <h1 class="text-xl font-bold text-white tracking-tight">
          Nuovo Viaggio
        </h1>
      </header>
    </div>

    <main class="flex-1 p-4 pb-10">
      
      <form id="travel-form" class="flex flex-col gap-5 max-w-lg mx-auto bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
        
        <div class="flex flex-col gap-1">
          <label for="name" class="text-xs font-bold text-gray-500 uppercase mb-1">Nome Viaggio</label>
          <input
            type="text"
            id="name"
            class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 font-semibold focus:outline-none focus:ring-2 focus:ring-sky-400"
            placeholder="Es. Vacanza a Roma"
            required
          />
        </div>

        <div class="flex gap-4">
          <div class="flex-1 flex flex-col gap-1 relative">
            <label for="startDate" class="text-xs font-bold text-gray-500 uppercase mb-1">Inizio</label>
            <input
              type="text"
              id="startDate"
              class="w-full bg-white border border-gray-200 rounded-xl px-4 py-3 font-semibold text-sm focus:outline-none focus:ring-2 focus:ring-sky-400 cursor-pointer caret-transparent"
              placeholder="Seleziona..."
              readonly="readonly" 
              required
            />
            <div class="absolute right-3 top-[34px] pointer-events-none text-gray-400">üìÖ</div>
          </div>
          <div class="flex-1 flex flex-col gap-1 relative">
            <label for="endDate" class="text-xs font-bold text-gray-500 uppercase mb-1">Fine</label>
            <input
              type="text"
              id="endDate"
              class="w-full bg-white border border-gray-200 rounded-xl px-4 py-3 font-semibold text-sm focus:outline-none focus:ring-2 focus:ring-sky-400 cursor-pointer caret-transparent"
              placeholder="Seleziona..."
              readonly="readonly"
              required
            />
             <div class="absolute right-3 top-[34px] pointer-events-none text-gray-400">üìÖ</div>
          </div>
        </div>

        <div class="relative flex flex-col gap-1">
          <label class="text-xs font-bold text-gray-500 uppercase mb-1">Valuta Locale</label>
          <input
            type="text"
            id="travelCurrencySearch"
            class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 font-semibold focus:outline-none focus:ring-2 focus:ring-sky-400"
            placeholder="Cerca valuta (es. USD...)"
            autocomplete="off"
          />
          <input type="hidden" id="travelCurrencyCode" />
          <div id="travelCurrencyDropdown" class="absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-xl max-h-60 overflow-y-auto hidden z-[60]"></div>
        </div>

        <div id="error-box" class="hidden bg-red-50 text-red-600 p-4 rounded-xl text-sm border border-red-100 font-medium"></div>

        <div class="flex gap-4 mt-4">
          <button type="button" id="cancel-btn" class="flex-1 py-4 rounded-xl border border-gray-200 font-bold text-gray-500 hover:bg-gray-50 transition active:scale-95">Annulla</button>
          <button type="submit" class="flex-1 py-4 rounded-xl bg-sky-500 text-white font-bold hover:bg-sky-600 shadow-lg transition active:scale-95">Crea Viaggio</button>
        </div>
      </form>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://npmcdn.com/flatpickr/dist/l10n/it.js"></script>

    <script type="module" src="/src/new-travel.js?v=2"></script>
  </body>
</html>